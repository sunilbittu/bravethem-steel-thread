(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{7170:function(e,t,n){Promise.resolve().then(n.bind(n,879)),Promise.resolve().then(n.bind(n,1523)),Promise.resolve().then(n.bind(n,49))},879:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return x}});var s=n(7437),i=n(2265);let l="bt.singleFocus",a="bt.tasks",r="bt.sessions",o="bt.moods",c="bt.timer";function d(e,t){try{let n=localStorage.getItem(e);return n?JSON.parse(n):t}catch(e){return t}}function u(e,t){try{localStorage.setItem(e,JSON.stringify(t))}catch(e){}}function m(e,t){let n=new Date(e),s=new Date(t);return n.getFullYear()===s.getFullYear()&&n.getMonth()===s.getMonth()&&n.getDate()===s.getDate()}function x(){let[e,t]=(0,i.useState)(()=>d(l,"")),[n,x]=(0,i.useState)(!e),[h,g]=(0,i.useState)(e),[f,w]=(0,i.useState)(()=>d(a,[])),[p,b]=(0,i.useState)(""),[v,j]=(0,i.useState)(()=>d(r,[])),[N,y]=(0,i.useState)(()=>d(o,[])),[k,S]=(0,i.useState)(!1),[C,D]=(0,i.useState)(""),[E,M]=(0,i.useState)(()=>d(c,{running:!1}).running||!1),[P,_]=(0,i.useState)(()=>{var e;return null!==(e=d(c,{remaining:1500}).remaining)&&void 0!==e?e:1500}),[I,O]=(0,i.useState)(()=>{var e;return null!==(e=d(c,{lastStart:0}).lastStart)&&void 0!==e?e:0}),R=(0,i.useRef)(null);function A(){M(!1),_(1500),O(0)}(0,i.useEffect)(()=>u(l,e),[e]),(0,i.useEffect)(()=>u(a,f),[f]),(0,i.useEffect)(()=>u(r,v),[v]),(0,i.useEffect)(()=>u(o,N),[N]),(0,i.useEffect)(()=>u(c,{running:E,remaining:P,lastStart:I}),[E,P,I]),(0,i.useEffect)(()=>{let e=e=>{(e.ctrlKey||e.metaKey)&&"k"===e.key.toLowerCase()&&(e.preventDefault(),S(!0),D(""))};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)},[]),(0,i.useEffect)(()=>{if(E){let e=window.setInterval(()=>{let e=Math.max(0,1500-Math.floor((Date.now()-I)/1e3));_(e),0===e&&function(){M(!1),_(0);let e={id:crypto.randomUUID(),start:I,end:Date.now()};j(t=>[...t,e]),K(!0)}()},250);return R.current=e,()=>window.clearInterval(e)}R.current&&(window.clearInterval(R.current),R.current=null)},[E,I]);let[F,K]=(0,i.useState)(!1),[T,U]=(0,i.useState)(3),[B,L]=(0,i.useState)(""),Q=(0,i.useMemo)(()=>{var e,t;let n=Date.now(),s=v.filter(e=>e.end&&m(e.start,n)).reduce((e,t)=>{var s;return e+((null!==(s=t.end)&&void 0!==s?s:n)-t.start)},0);return Math.round(.5*Math.min(s/6e4/120*100,100)+.3*Math.min(f.filter(e=>e.done&&e.completedAt&&m(e.completedAt,n)).length/3*100,100)+((null!==(t=null===(e=N.filter(e=>m(e.ts,n)).sort((e,t)=>t.ts-e.ts)[0])||void 0===e?void 0:e.score)&&void 0!==t?t:3)-1)/4*20)},[v,f,N]),z=(0,i.useMemo)(()=>f.filter(e=>!e.done).sort((e,t)=>e.createdAt-t.createdAt).slice(0,3),[f]);function J(e){let t=e.trim();if(!t)return;let n={id:crypto.randomUUID(),title:t,done:!1,createdAt:Date.now()};w(e=>[n,...e])}let[W,Y]=(0,i.useState)(!1);function q(){h.trim()&&(!e||e===h.trim()||window.confirm("Change today’s Single Focus?"))&&(t(h.trim()),x(!1))}return(0,s.jsx)("div",{className:"min-h-screen bg-[#0B0B0C] text-white",children:(0,s.jsxs)("div",{className:"mx-auto max-w-4xl px-4 py-8",children:[(0,s.jsxs)("header",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-2xl font-semibold tracking-tight",children:"BraveThem"}),(0,s.jsx)("p",{className:"text-sm text-neutral-400",children:new Date().toLocaleDateString(void 0,{weekday:"long",month:"short",day:"numeric"})})]}),(0,s.jsx)("div",{className:"flex items-center gap-2",children:(0,s.jsx)("button",{className:"rounded-xl border border-white/10 px-3 py-1.5 text-sm text-white/80 hover:bg-white/5",onClick:()=>S(!0),"aria-label":"Quick Capture",children:"⌘K Quick Capture"})})]}),(0,s.jsxs)("main",{className:"mt-6 grid grid-cols-1 gap-6 md:grid-cols-2",children:[(0,s.jsxs)("section",{className:"rounded-2xl bg-white/5 p-4 shadow-lg ring-1 ring-white/10",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)("h2",{className:"text-lg font-medium",children:"Single Focus"}),!n&&(0,s.jsx)("button",{className:"text-xs text-white/60 hover:text-white",onClick:()=>x(!0),children:"Edit"})]}),(0,s.jsx)("div",{className:"mt-3",children:n?(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("input",{className:"w-full rounded-xl bg-black/40 px-3 py-2 outline-none ring-1 ring-white/10 focus:ring-2 focus:ring-indigo-500",placeholder:"What matters most today?",value:h,onChange:e=>g(e.target.value),onKeyDown:e=>{"Enter"===e.key&&q()}}),(0,s.jsx)("button",{className:"rounded-xl bg-indigo-600 px-3 py-2 text-sm font-medium hover:bg-indigo-500",onClick:q,children:"Set"})]}):(0,s.jsx)("p",{className:"text-lg leading-relaxed text-white/90",children:e||"(not set)"})})]}),(0,s.jsxs)("section",{className:"rounded-2xl bg-white/5 p-4 shadow-lg ring-1 ring-white/10",children:[(0,s.jsx)("h2",{className:"text-lg font-medium",children:"Focus Session"}),(0,s.jsxs)("div",{className:"mt-4 flex flex-col items-center",children:[(0,s.jsx)("div",{className:"rounded-2xl border border-white/10 px-6 py-4 text-5xl tabular-nums",children:function(e){let t=Math.floor(e/60).toString().padStart(2,"0"),n=Math.floor(e%60).toString().padStart(2,"0");return"".concat(t,":").concat(n)}(P)}),(0,s.jsxs)("div",{className:"mt-4 flex gap-2",children:[E?(0,s.jsx)("button",{className:"rounded-xl bg-amber-600 px-4 py-2 text-sm font-semibold hover:bg-amber-500",onClick:function(){E&&(_(Math.max(0,1500-Math.floor((Date.now()-I)/1e3))),M(!1))},children:"Pause"}):(0,s.jsx)("button",{className:"rounded-xl bg-emerald-600 px-4 py-2 text-sm font-semibold hover:bg-emerald-500",onClick:function(){E||(O(Date.now()),_(1500),M(!0))},children:"Start"}),(0,s.jsx)("button",{className:"rounded-xl bg-white/10 px-4 py-2 text-sm font-semibold hover:bg-white/20",onClick:A,children:"Reset"})]})]})]}),(0,s.jsxs)("section",{className:"rounded-2xl bg-white/5 p-4 shadow-lg ring-1 ring-white/10 md:col-span-2",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)("h2",{className:"text-lg font-medium",children:"Today’s Tasks"}),(0,s.jsx)("span",{className:"text-xs text-white/60",children:"Showing up to 3 active"})]}),(0,s.jsxs)("div",{className:"mt-3 flex gap-2",children:[(0,s.jsx)("input",{className:"w-full rounded-xl bg-black/40 px-3 py-2 outline-none ring-1 ring-white/10 focus:ring-2 focus:ring-indigo-500",placeholder:"Add a task and press Enter",value:p,onChange:e=>b(e.target.value),onKeyDown:e=>{"Enter"===e.key&&(J(p),b(""))}}),(0,s.jsx)("button",{className:"rounded-xl bg-indigo-600 px-3 py-2 text-sm font-medium hover:bg-indigo-500",onClick:()=>{J(p),b("")},children:"Add"})]}),(0,s.jsxs)("ul",{className:"mt-4 space-y-2",children:[0===z.length&&(0,s.jsx)("li",{className:"text-sm text-white/60",children:"Nothing active. Capture something with ⌘/Ctrl + K."}),z.map(e=>(0,s.jsxs)("li",{className:"flex items-center justify-between rounded-xl bg-black/30 px-3 py-2 ring-1 ring-white/10",children:[(0,s.jsxs)("label",{className:"flex items-center gap-3",children:[(0,s.jsx)("input",{type:"checkbox",className:"h-4 w-4 rounded border-white/20 bg-black/40",checked:e.done,onChange:()=>{var t;return t=e.id,void w(e=>e.map(e=>{if(e.id!==t)return e;let n=!e.done;return{...e,done:n,completedAt:n?Date.now():void 0}}))}}),(0,s.jsx)("span",{className:"text-sm "+(e.done?"line-through text-white/50":"text-white"),children:e.title})]}),(0,s.jsx)("button",{className:"text-xs text-white/50 hover:text-white","aria-label":"Remove task",onClick:()=>{var t;return t=e.id,void w(e=>e.filter(e=>e.id!==t))},children:"Remove"})]},e.id))]})]}),(0,s.jsxs)("section",{className:"rounded-2xl bg-white/5 p-4 shadow-lg ring-1 ring-white/10",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)("h2",{className:"text-lg font-medium",children:"Peace Meter"}),(0,s.jsx)("button",{className:"text-xs text-white/70 underline-offset-2 hover:underline",onClick:function(){Y(!0),setTimeout(()=>Y(!1),2500)},children:"Evening Reset"})]}),(0,s.jsxs)("div",{className:"mt-4",children:[(0,s.jsx)("div",{className:"h-3 w-full rounded-full bg-white/10",children:(0,s.jsx)("div",{className:"h-3 rounded-full bg-indigo-500 transition-all",style:{width:"".concat(Q,"%")}})}),(0,s.jsxs)("div",{className:"mt-2 text-sm text-white/80",children:[Q,"% calm"]}),(0,s.jsx)("p",{className:"mt-1 text-xs text-white/60",children:"Built from focus minutes, completed tasks, and your last mood check-in."})]})]})]}),k&&(0,s.jsx)("div",{className:"fixed inset-0 z-50 grid place-items-center bg-black/70 p-4",children:(0,s.jsxs)("div",{className:"w-full max-w-xl rounded-2xl bg-[#121214] p-4 ring-1 ring-white/10",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)("h3",{className:"text-sm font-medium text-white/80",children:"Quick Capture"}),(0,s.jsx)("button",{className:"text-sm text-white/60 hover:text-white",onClick:()=>S(!1),"aria-label":"Close",children:"✕"})]}),(0,s.jsx)("input",{autoFocus:!0,className:"mt-3 w-full rounded-xl bg-black/40 px-3 py-2 outline-none ring-1 ring-white/10 focus:ring-2 focus:ring-indigo-500",placeholder:"Type a task and press Enter",value:C,onChange:e=>D(e.target.value),onKeyDown:e=>{"Enter"===e.key&&(J(C),D(""),S(!1))}}),(0,s.jsx)("p",{className:"mt-2 text-xs text-white/50",children:"Tip: Press ⌘/Ctrl + K anytime"})]})}),F&&(0,s.jsx)("div",{className:"fixed inset-0 z-50 grid place-items-center bg-black/70 p-4",children:(0,s.jsxs)("div",{className:"w-full max-w-md rounded-2xl bg-[#121214] p-4 ring-1 ring-white/10",children:[(0,s.jsx)("h3",{className:"text-base font-medium",children:"How did that session feel?"}),(0,s.jsxs)("div",{className:"mt-3",children:[(0,s.jsx)("input",{type:"range",min:1,max:5,value:T,onChange:e=>U(parseInt(e.target.value)),className:"w-full"}),(0,s.jsxs)("div",{className:"mt-1 text-sm text-white/70",children:["Mood: ",T," / 5"]})]}),(0,s.jsx)("textarea",{className:"mt-3 w-full rounded-xl bg-black/40 px-3 py-2 text-sm outline-none ring-1 ring-white/10 focus:ring-2 focus:ring-indigo-500",rows:3,placeholder:"One-line note (optional)",value:B,onChange:e=>L(e.target.value)}),(0,s.jsxs)("div",{className:"mt-3 flex justify-end gap-2",children:[(0,s.jsx)("button",{className:"rounded-xl bg-white/10 px-3 py-2 text-sm hover:bg-white/20",onClick:()=>K(!1),children:"Cancel"}),(0,s.jsx)("button",{className:"rounded-xl bg-indigo-600 px-3 py-2 text-sm font-semibold hover:bg-indigo-500",onClick:function(){let e={id:crypto.randomUUID(),ts:Date.now(),score:T,note:B};y(t=>[...t,e]),L(""),U(3),K(!1),A()},children:"Save"})]})]})})]})})}},1523:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"BailoutToCSR",{enumerable:!0,get:function(){return i}});let s=n(8993);function i(e){let{reason:t,children:n}=e;if("undefined"==typeof window)throw new s.BailoutToCSRError(t);return n}},49:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"PreloadCss",{enumerable:!0,get:function(){return l}});let s=n(7437),i=n(544);function l(e){let{moduleIds:t}=e;if("undefined"!=typeof window)return null;let n=(0,i.getExpectedRequestStore)("next/dynamic css"),l=[];if(n.reactLoadableManifest&&t){let e=n.reactLoadableManifest;for(let n of t){if(!e[n])continue;let t=e[n].files.filter(e=>e.endsWith(".css"));l.push(...t)}}return 0===l.length?null:(0,s.jsx)(s.Fragment,{children:l.map(e=>(0,s.jsx)("link",{precedence:"dynamic",rel:"stylesheet",href:n.assetPrefix+"/_next/"+encodeURI(e),as:"style"},e))})}}},function(e){e.O(0,[971,117,744],function(){return e(e.s=7170)}),_N_E=e.O()}]);